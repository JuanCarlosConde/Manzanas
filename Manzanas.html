<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Juan Carlos Conde Alarcón">
<meta name="dcterms.date" content="2024-07-05">

<title>Manzanas con el cambio climatico problemas con plagas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="Manzanas_files/libs/clipboard/clipboard.min.js"></script>
<script src="Manzanas_files/libs/quarto-html/quarto.js"></script>
<script src="Manzanas_files/libs/quarto-html/popper.min.js"></script>
<script src="Manzanas_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Manzanas_files/libs/quarto-html/anchor.min.js"></script>
<link href="Manzanas_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Manzanas_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Manzanas_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Manzanas_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Manzanas_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manzanas con el cambio climatico problemas con plagas</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Cambio climatico y los problemas en plagas agrícolas</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Juan Carlos Conde Alarcón </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 5, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Especies de importancia comercial</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<pre><code>Cambio Climatico</code></pre>
</div>
</div>
<div style="text-align: justify; color:black;">
<p>Las áreas destinadas al cultivo han llegado a un límite, su rápida expansión, consecuencia de una tala desmedida de bosques y selvas, ha contribuido al aumento de la temperatura alterando la fenología de plantas y animales. La velocidad con la que ocurre estos cambios no permite que muchas especies sean capaces de adaptarse y, en consecuencia, algunas de estas se están desplazando de sus zonas tradicionales a nuevos “nichos”, donde pueden vivir y reproducirse. Consecuencia de esto los insectos plaga, se desplazan a diferentes hábitats y reconocen en ocasiones, nuevos hospederos. Ejemplo de lo anterior es la Mosca Mexicana de la Fruta Anastrepha ludens, una especie polífaga cuyos hospederos naturales se restringen comúnmente a frutos de mango, diversos cítricos y otras especies de rutáceas e incluso ocasionalmente algunos frutos de plantas de la familia Myrtaceae. En últimos tiempos, se encontró que esta plaga ha iniciado la infestación de frutos de manzano, los cuales, se caracterizan por crecer a mayor altitud además de pertenecen a una familia botánica distinta a las de sus hospederos tradicionales. Debido a la importancia económica de los cultivos de manzanas en las zonas productoras de México y la falta de conocimiento de aquellos mecanismos que a nivel molecular subyacen la plasticidad y la adaptabilidad de esta especie a las condiciones de su entorno promoviendo incluso la interacción con nuevos hospederos, se realiza el siguiente estudio, el cual tiene por objeto analizar el transcriptoma de larvas y pupas de A. ludens desarrolladas en tres cultivares de manzana (Golden Delicious, Criolla y Rayada) y un hospedero natural (toronja cv. Marsh), a diferentes temperaturas. Como resultado se identifican 1,791 genes que en Larvas se expresan diferencialmente en respuesta al estímulo (cambio de temperatura). En las pupas, el número resulto ser similar (1,656 genes expresados diferencialmente). Interesantemente, son pocos los genes (un total de 262) que en ambos estadios de desarrollo (larvas y pupas) se expresan de manera diferencial en respuesta al estimulo y son menos aún, aquellos que coinciden cuando se comparan los genes que en respuesta a dicho tratamiento (el cambio de temperatura) se expresaron cuando las larvas y pupas se encontraban infestando un diferente cultivar (ya sea manzanas de los cv. Golden Delicious, Criolla y Rayada, o toronja cv. Marsh). Aun cuando más análisis son requeridos, de momento se concluye que los genes que se inducen participan de la señalización, la transducción de señales y la respuesta al estimulo ambiental mientras que los genes que se reprimen parecen estar relacionados con reducir la progresión del metabolismo, es decir, reducir el consumo de energía (ATP) para mantener la homeostasis celular y modular el estrés inducido por calor.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Palabras clave: plasticidad, adaptación, cambio climático, transcriptoma, temperatura</p>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Introducción</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Modelo de estudio</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Antecedentes</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div style="text-align: justify; color:black;">
<p>La plasticidad adaptativa de los insectos se refiere a la capacidad de estos para ajustar su comportamiento, fisiología y morfología en respuesta a las variaciones ambientales impuestas por el cambio climático. Esta plasticidad permite a los insectos sobrevivir y reproducirse en condiciones que difieren de aquellas a las que están históricamente adaptados.</p>
<p>Ante un escenario de cambio climático y dependiendo de la especie, algunos insectos han comenzado a cambiar sus hábitos de migración o la forma en que interactúan con su entorno <span class="citation" data-cites="parmesan2014">(<a href="#ref-parmesan2014" role="doc-biblioref">Parmesan et al., 2014</a>)</span>. Por ejemplo, realizan la mayoría de sus actividades durante las horas más frescas del día y mantienen una actividad reducida o nula cuando las temperaturas son elevadas <span class="citation" data-cites="manfredini2019">(<a href="#ref-manfredini2019" role="doc-biblioref">Manfredini et al., 2019</a>)</span>. Esto les permite ajustar sus tasas metabólicas y tener una mayor tolerancia al calor y resistencia a la desecación en ambientes más cálidos y secos <span class="citation" data-cites="kingsolver2018">(<a href="#ref-kingsolver2018" role="doc-biblioref">Kingsolver &amp; Buckley, 2018</a>)</span>. También, en respuesta al aumento de la temperatura, muchas especies de insectos están desplazando su rango de distribución hacia mayores altitudes, lo que puede influir en las interacciones entre especies, como la predación y la competencia <span class="citation" data-cites="valladares2014">(<a href="#ref-valladares2014" role="doc-biblioref">Valladares et al., 2014</a>)</span>.</p>
<p>Téngase en cuenta que los cambios en la fenología (el calendario de eventos biológicos) pueden desincronizar las relaciones entre insectos y sus plantas hospedadoras o depredadores. También existe evidencia de que algunas especies, para favorecer temporadas más largas de crecimiento, están modificando sus ciclos de vida, adelantando la emergencia de adultos e incrementando el número de generaciones por año. Cambios en el tamaño corporal, coloración y estructura de las alas también pueden ocurrir como respuesta a diferentes presiones ambientales <span class="citation" data-cites="gibert2019">(<a href="#ref-gibert2019" role="doc-biblioref">Gibert et al., 2019</a>)</span>. Sin embargo, algunos de estos cambios podrían tener lugar únicamente a largo plazo, es decir, manteniendo condiciones prolongadas y sostenibles que ejercen una presión selectiva.</p>
<p>Se asume que, a corto plazo, una adaptación rápida tiene lugar gracias a la plasticidad de los insectos (y de otros organismos) para cambiar, mediante una reprogramación celular, las respuestas a las condiciones de su entorno. Así, está plasticidad para adaptarse (incluso fenotípicamente) es dependiente de la escala de tiempo con la que esto ocurre (revisado en <span class="citation" data-cites="rodrigues2020">(<a href="#ref-rodrigues2020" role="doc-biblioref">Rodrigues &amp; Beldade, 2020</a>)</span>). Se debe tener en cuenta que no todas las especies de insectos tienen la misma capacidad de respuesta; algunas pueden tener una mayor plasticidad adaptativa influenciada por su historia evolutiva y ecología, mientras que otras tienen limitaciones que restringen su capacidad de adaptación. Así, las especies con menor capacidad de dispersión o con ciclos de vida más específicos pueden estar en mayor riesgo de extinción <span class="citation" data-cites="manfredini2019">(<a href="#ref-manfredini2019" role="doc-biblioref">Manfredini et al., 2019</a>)</span>. El cambio climático puede interactuar con otros factores de estrés, como la pérdida de hábitat y la contaminación, complicando aún más la capacidad de los insectos para adaptarse. Por lo anterior, estudios que permitan identificar los cambios en la expresión de genes que permiten a estos organismos adaptarse a las nuevas condiciones de su entorno son esenciales para elucidar los mecanismos detrás de esta plasticidad y capacidad de adaptación <span class="citation" data-cites="hilker2023">(<a href="#ref-hilker2023" role="doc-biblioref">Hilker et al., 2023</a>)</span>.</p>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div style="text-align: justify; color:black;">
<p>Nuestro modelo de estudio es la Mosca Mexicana de la Fruta, Anastrepha ludens, una especie polífaga cuyos hospederos naturales se restringen a especies frutícolas como el mango (Mangifera indica, Anacardiaceae), diversos cítricos y otras especies de rutáceas (Citrus × paradisi, Citrus × sinensis, Casimiroa eduli), e incluso, aunque de forma ocasional, también puede encontrarse infestando algunos frutos de plantas de la familia Myrtaceae (p.&nbsp;ej., Psidium guajava). Esta especie, perteneciente a la familia Tephritidae, es endémica del continente americano y, hasta hace algunos años, restringía su hábitat a climas tropicales y subtropicales; sin embargo, en años recientes y seguramente como consecuencia del cambio climático, ha comenzado a desplazarse a zonas de mayor altitud, encontrando nuevos y diferentes nichos donde puede vivir y reproducirse con éxito. Actualmente, y con preferencia sobre ciertos cultivares, esta plaga llega a encontrarse infestando frutos de especies pertenecientes a la familia Rosaceae, principalmente frutos de manzano (Malus domestica, Fig. 1), un cultivo en el que comienza ya a causar importantes mermas en su producción.</p>
<p>Mediante el análisis de nuestro modelo de estudio se busca atender dos áreas de oportunidad de gran relevancia. La primera de ellas tiene que ver con reconocer la problemática que representa el que algunas especies plaga comiencen a colonizar nuevos nichos como consecuencia del cambio climático, parasitando e infestando incluso nuevos hospederos de importancia agrícola e incidiendo de manera negativa en el sector productivo y en la problemática que representa hoy en día garantizar la seguridad alimentaria. La segunda área de oportunidad está relacionada con elucidar los mecanismos moleculares que subyacen a la plasticidad adaptativa en los insectos, un fenómeno poco estudiado en el contexto del evidente cambio climático del que somos presa hoy día. En el caso de A. ludens, resulta de particular interés el que podamos entender no solo cómo esta especie logra sobrevivir y reproducirse en condiciones que difieren de aquellas a las que está históricamente adaptada consecuencia del aumento creciente de la temperatura; también, cómo es que, al colonizar nuevos nichos y como especie “invasora”, consigue infestar nuevos hospederos que distan incluso de ser filogenéticamente cercanos a aquellos considerados sus hospederos naturales (p.&nbsp;ej. aquellos pertenecientes a la familia Rosaceae, Malus, domestica, Pronus persica y Pryrus communis)</p>
</div>
<p><img src="golden.jpg" class="img-fluid"></p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div style="text-align: justify; color:black;">
<p>Antecedentes Los tefrítidos son una familia diversa de insectos, con más de 4,000 especies descritas. La mayoría de las especies se alimentan de plantas y varias de ellas pueden causar importantes daños económicos, especialmente cuando sus larvas se desarrollan en frutas de gran valor comercial. Diferentes reportes sugieren que especies relacionadas, en especial aquellas que se consideran polífagas, poseen gran plasticidad adaptativa. Por ejemplo, la mosca oriental Bactrocera dorsalis, es una plaga cuya amplia gama de hospederos, su gran tolerancia climática y su fuerte capacidad de dispersión le permitieron colonizar, en el último siglo todo el sudeste asiático desde la India hasta Hawaii. En China, su rango de distribución se extendió rápidamente incluyendo regiones que durante algún tiempo permanecieron aisladas por estar delimitadas por regiones cuyos inviernos eran extremadamente fríos. Tras el aumento en la temperatura, estás regiones permitieron el paso de B. dorsalis y con ello, una acelerada dispersión , <span class="citation" data-cites="jaffar2023">(<a href="#ref-jaffar2023" role="doc-biblioref">Jaffar et al., 2023</a>)</span> <span class="citation" data-cites="stephens2007">(<a href="#ref-stephens2007" role="doc-biblioref">Stephens et al., 2007</a>)</span>. Rhagoletis completa, la mosca de la cascara del nogal, es otro ejemplo en el cual, una gélida división alpina que representaba una barrera geográfica antes “insuperable”, fue abatida consecuencia del cambio climático ocasionando esta especie lograra cruzar desde la cuenca mediterránea (Italia) hasta Suiza y más recientemente, en otros países europeos, como Alemania, Austria, Francia y Eslovenia <span class="citation" data-cites="aluja2011">(<a href="#ref-aluja2011" role="doc-biblioref">Aluja et al., 2011</a>)</span>. Según estimaciones y modelos predictivos, si las condiciones climáticas siguen cambiando, la mosca de la fruta de las Indias Occidentales, Anastrepha obliqua, también comenzará a desplazarse, hacia zonas nuevas como el sur de Asia, el noreste de Australia y África subsahariana <span class="citation" data-cites="fu2013">(<a href="#ref-fu2013" role="doc-biblioref">Fu et al., 2013</a>)</span>. En lo que respecta a A. ludens y su distribución en México la podemos encontrar en Campeche, Chiapas, Colima, Distrito Federal, Guanajuato, Guerrero, Jalisco, México, Michoacán, Morelos, Nayarit, Oaxaca, Puebla, Querétaro, Quintana Roo, Tabasco, Tlaxcala, Veracruz, y Yucatán. Algunas otras entidades como son Aguascalientes, Durango, Nuevo León, San Luis Potosí, Sinaloa, Tamaulipas y Zacatecas, presentan áreas libres y otras de baja prevalencia <span class="citation" data-cites="antonio-hernández2019">(<a href="#ref-antonio-hernández2019" role="doc-biblioref">ANTONIO-HERNÁNDEZ, 2019</a>)</span>.</p>
<p><img src="manzanascultivares.jpg" class="img-fluid"></p>
</div>
</div>
</div>
</div>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-aluja2011" class="csl-entry" role="listitem">
Aluja, M., Guillén, L., Rull, J., Höhn, H., Frey, J., Graf, B., &amp; Samietz, J. (2011). Is the alpine divide becoming more permeable to biological invasions? <span></span> Insights on the invasion and establishment of the Walnut Husk Fly, <span><em>Rhagoletis completa</em></span> (Diptera: Tephritidae) in Switzerland. <em>Bulletin of Entomological Research</em>, <em>101</em>(4), 451–465. <a href="https://doi.org/10.1017/s0007485311000010">https://doi.org/10.1017/s0007485311000010</a>
</div>
<div id="ref-antonio-hernández2019" class="csl-entry" role="listitem">
ANTONIO-HERNÁNDEZ, E. (2019). <em>Diversidad de moscas de la fruta del género anastrepha schiner (diptera: Tephritidae) en el istmo de tehuantepec, oaxaca, méxico</em> (pp. 1–23). ECORFAN. <a href="https://doi.org/10.35429/h.2019.1.1.23">https://doi.org/10.35429/h.2019.1.1.23</a>
</div>
<div id="ref-fu2013" class="csl-entry" role="listitem">
Fu, L., Li, Z.-H., Huang, G.-S., Wu, X.-X., Ni, W.-L., &amp; Qü, W.-W. (2013). The current and future potential geographic range of West Indian fruit fly, <span><em>Anastrepha obliqua</em></span> (Diptera: Tephritidae). <em>Insect Science</em>, <em>21</em>(2), 234–244. <a href="https://doi.org/10.1111/1744-7917.12018">https://doi.org/10.1111/1744-7917.12018</a>
</div>
<div id="ref-gibert2019" class="csl-entry" role="listitem">
Gibert, P., Debat, V., &amp; Ghalambor, C. K. (2019). Phenotypic plasticity, global change, and the speed of adaptive evolution. <em>Current Opinion in Insect Science</em>, <em>35</em>, 34–40. <a href="https://doi.org/10.1016/j.cois.2019.06.007">https://doi.org/10.1016/j.cois.2019.06.007</a>
</div>
<div id="ref-hilker2023" class="csl-entry" role="listitem">
Hilker, M., Salem, H., &amp; Fatouros, N. E. (2023). Adaptive Plasticity of Insect Eggs in Response to Environmental Challenges. <em>Annual Review of Entomology</em>, <em>68</em>(1), 451–469. <a href="https://doi.org/10.1146/annurev-ento-120120-100746">https://doi.org/10.1146/annurev-ento-120120-100746</a>
</div>
<div id="ref-jaffar2023" class="csl-entry" role="listitem">
Jaffar, S., Rizvi, S. A. H., &amp; Lu, Y. (2023). Understanding the Invasion, Ecological Adaptations, and Management Strategies of Bactrocera dorsalis in China: A Review. <em>Horticulturae</em>, <em>9</em>(9), 1004. <a href="https://doi.org/10.3390/horticulturae9091004">https://doi.org/10.3390/horticulturae9091004</a>
</div>
<div id="ref-kingsolver2018" class="csl-entry" role="listitem">
Kingsolver, J. G., &amp; Buckley, L. B. (2018). How do phenology, plasticity, and evolution determine the fitness consequences of climate change for montane butterflies? <em>Evolutionary Applications</em>, <em>11</em>(8), 1231–1244. <a href="https://doi.org/10.1111/eva.12618">https://doi.org/10.1111/eva.12618</a>
</div>
<div id="ref-manfredini2019" class="csl-entry" role="listitem">
Manfredini, F., Arbetman, M., &amp; Toth, A. L. (2019). A potential role for phenotypic plasticity in invasions and declines of social insects. <em>Frontiers in Ecology and Evolution</em>, <em>7</em>. <a href="https://doi.org/10.3389/fevo.2019.00375">https://doi.org/10.3389/fevo.2019.00375</a>
</div>
<div id="ref-parmesan2014" class="csl-entry" role="listitem">
Parmesan, C., Williams-Anderson, A., Moskwik, M., Mikheyev, A. S., &amp; Singer, M. C. (2014). Endangered Quino checkerspot butterfly and climate change: Short-term success but long-term vulnerability? <em>Journal of Insect Conservation</em>, <em>19</em>(2), 185–204. <a href="https://doi.org/10.1007/s10841-014-9743-4">https://doi.org/10.1007/s10841-014-9743-4</a>
</div>
<div id="ref-rodrigues2020" class="csl-entry" role="listitem">
Rodrigues, Y. K., &amp; Beldade, P. (2020). Thermal plasticity in insects<span>’</span> response to climate change and to multifactorial environments. <em>Frontiers in Ecology and Evolution</em>, <em>8</em>. <a href="https://doi.org/10.3389/fevo.2020.00271">https://doi.org/10.3389/fevo.2020.00271</a>
</div>
<div id="ref-stephens2007" class="csl-entry" role="listitem">
Stephens, A. E. A., Kriticos, D. J., &amp; Leriche, A. (2007). The current and future potential geographical distribution of the oriental fruit fly,<span><em>Bactrocera dorsalis</em></span>(Diptera: Tephritidae). <em>Bulletin of Entomological Research</em>, <em>97</em>(4), 369–378. <a href="https://doi.org/10.1017/s0007485307005044">https://doi.org/10.1017/s0007485307005044</a>
</div>
<div id="ref-valladares2014" class="csl-entry" role="listitem">
Valladares, F., Matesanz, S., Guilhaumon, F., Araújo, M. B., Balaguer, L., Benito-Garzón, M., Cornwell, W., Gianoli, E., Kleunen, M. van, Naya, D. E., Nicotra, A. B., Poorter, H., &amp; Zavala, M. A. (2014). The effects of phenotypic plasticity and local adaptation on forecasts of species range shifts under climate change. <em>Ecology Letters</em>, <em>17</em>(11), 1351–1364. <a href="https://doi.org/10.1111/ele.12348">https://doi.org/10.1111/ele.12348</a>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>